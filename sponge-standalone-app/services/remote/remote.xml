<?xml version="1.0" encoding="UTF-8"?>
<sponge xmlns="https://sponge.openksavi.org" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="https://sponge.openksavi.org https://sponge.openksavi.org/schema/config.xsd">
    <properties>
        <property name="sponge.serviceDir">${sponge.configDir}/service</property>
        <property name="sponge.workDir">./_work</property>
        <property name="sponge.securityDir">${sponge.configDir}/security</property>

        <property name="password.file">${sponge.configDir}/password.txt</property>
    </properties>

    <engine name="remote" label="Remote"/>

    <knowledgeBases>
        <knowledgeBase name="servicePython" label="Service Python">
            <file required="false">file:${sponge.serviceDir}/**/*.py</file>
            <file required="false">file:${sponge.workDir}/_local_git_cached/kb/**/*.py</file>
        </knowledgeBase>
        <knowledgeBase name="serviceGroovy" label="Service Groovy">
            <file required="false">file:${sponge.serviceDir}/**/*.groovy</file>
            <file required="false">file:${sponge.workDir}/_local_git_cached/kb/**/*.groovy</file>
        </knowledgeBase>
        <knowledgeBase name="serviceRuby" label="Service Ruby">
            <file required="false">file:${sponge.serviceDir}/**/*.rb</file>
            <file required="false">file:${sponge.workDir}/_local_git_cached/kb/**/*.rb</file>
        </knowledgeBase>
        <knowledgeBase name="serviceJavaScript" label="Service JavaScript">
            <file required="false">file:${sponge.serviceDir}/**/*.js</file>
            <file required="false">file:${sponge.workDir}/_local_git_cached/kb/**/*.js</file>
        </knowledgeBase>

        <knowledgeBase name="configuration" label="Configuration">
            <file required="false">${sponge.configDir}/configuration.py</file>
        </knowledgeBase>
        <knowledgeBase name="administration" label="Administration">
            <file>classpath:sponge/engine/engine_admin_library.py</file>
            <file>classpath:sponge/engine/engine_public_library.py</file>
            <file>classpath:sponge/engine/engine_reload_git.py</file>
        </knowledgeBase>
        <knowledgeBase name="security" label="Security">
            <file>file:${sponge.securityDir}/**/*.py</file>
        </knowledgeBase>
    </knowledgeBases>

    <plugins>
        <plugin name="standalone" class="org.openksavi.sponge.standalone.StandalonePlugin">
            <configuration>
                <spring camel="true" />
            </configuration>
        </plugin>
        <plugin name="remoteApiServer" class="org.openksavi.sponge.remoteapi.server.RemoteApiServerPlugin">
            <configuration>
                <allowAnonymous>true</allowAnonymous>
                <securityProviderClass>org.openksavi.sponge.remoteapi.server.security.SimpleInMemorySecurityProvider</securityProviderClass>
                <registerServiceDiscovery>true</registerServiceDiscovery>
            </configuration>
        </plugin>
        <plugin name="grpcApiServer" class="org.openksavi.sponge.grpcapi.server.GrpcApiServerPlugin"/>
    </plugins>
</sponge>

